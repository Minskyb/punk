"use strict";!function(a){"function"==typeof define&&define.amd?define(["jquery",a]):"object"==typeof exprots?module.exports=a:a(jQuery)}(function(a){function b(b){this.each(function(){var d=a(this),e=d.data("pk.slider");e||d.data("pk.slider",e=new c(this,b))})}var c=function(b,d){this.setting=a.extend(!0,c.defaults,d),this.$element=a(b),this.$content=a(".pk-content",this.$element),this.$page=a(".pk-page",this.$element),this.height=this.$element[0].clientHeight,this.width=this.$element[0].clientWidth,this.num=this.$page.length,this.index=0,this.initContent(),this.initNav();var e=window.navigator.userAgent.match(/MSIE\s(\d)/);e&&parseInt(e[1])<9&&(this.setting.ANIMATION=!1)};c.defaults={TRANSITION_DURATION:300,NAV:!0,ANIMATION:!0},c.prototype.initContent=function(){a(this.$page[0]).clone().appendTo(this.$content),a(this.$page[this.num-1]).clone().prependTo(this.$content),this.$page=a(".pk-page",this.$element),this.$page.css({width:this.width+"px"}),this.height||(this.height=this.$page[0].clientHeight),this.$element.css({height:this.height+"px"}),this.$page.css({height:this.height+"px"}),this.len=this.width*(this.num+2),this.$content.css({width:this.len+"px",left:-this.width+"px"})},c.prototype.initNav=function(){this.setting.NAV&&(this.$element.append('<div class="pk-slider-previous"></div><div class="pk-slider-next"></div>'),a(".pk-slider-next",this.$element).on("click",a.proxy(this.next,this)),a(".pk-slider-previous",this.$element).on("click",a.proxy(this.previous,this)))},c.prototype.next=function(b){if(!this.setting.ANIMATION)return void this.$content.append(a(".pk-page",this.$element)[0]);var c=this.$content[0].style.left.match(/-?\d+(?=px)/)[0],d=this;this.setLeft(parseInt(c)-d.width,d.setting.TRANSITION_DURATION,function(){d.index++,d.index==d.num&&(d.setLeft(-d.width,0),d.index=0)})},c.prototype.previous=function(b){if(!this.setting.ANIMATION)return void this.$content.prepend(a(".pk-page",this.$element)[this.num-1]);var c=this.$content[0].style.left.match(/-?\d+(?=px)/)[0],d=this;this.setLeft(parseInt(c)+d.width,d.setting.TRANSITION_DURATION,function(){d.index--,-1==d.index&&(d.setLeft(-d.width*d.num,0),d.index=d.num-1)})},c.prototype.setLeft=function(a,b,c){this.$content.animate({left:a+"px"},b,c)},a.fn.Slider=b});